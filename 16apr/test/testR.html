<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>과제</title>
</head>
<style>
    fieldset {width:600px; margin: auto; padding:15px; font-family: "돋움"; background-color: #ecffea;}
    #myForm table {width: 600px; margin: auto; border-collapse: collapse}
    #myForm div {font-weight: bold;}
    #myForm tr {height: 50px; background-color: #d9ffd5;}
    #myForm tr>td:nth-child(2) {width:430px;}
    #myForm td {padding: 10px;  border: white solid 2px;}
    #myForm input[type="button"], #myForm input[type="submit"], #myForm input[type="reset"] {height:30px; font-size:11pt; background-color: rgb(255, 255, 217)}
    #myForm input[type="text"], #myForm input[type="password"], #introduce {background-color: #fbfffa; height:22px; font-size:12pt;}
    #id {width: 120px; margin-right: 20px}
    #pass {width: 130px;}
    #jumin1 {width:60px;}
    #jumin2 {width: 90px;}
    #email {width:120px;}
    #domain {width:120px;}
    #sel {height:30px; font-size:11pt;}
    #post1 {width:40px; text-align: center;}
    #post2 {width:40px; text-align: center;}
    #address {width:400px;}
    #introduce {width: 500px; height: 180px; margin:10px; resize: none;}
    #myForm input[type="submit"] {width:150px; margin-right: 50px;}
    /*  */
</style>
<script src="../../lib/jquery-3.3.1.min.js"></script>
<script>
    function check() {

        if($('#id').val() == ""){
            alert("아이디를 입력하지 않았습니다.");
            $('#id').focus();
            return false;
        } else if($('#pass').val() == ""){
            alert("비밀번호를 입력하지 않았습니다.")
            $('#pass').focus();
            return false;
        } else if($('#jumin1').val().length < 6 || $('#jumin2').val().length < 7){
            alert("주민번호를 제대로 입력하지 않았습니다.")
            $('#jumin1').focus();
            return false;
        } else if($('#email').val() == "" || $('#domain').val() == ""){
            alert("이메일을 입력하지 않았습니다.")
            $('#email').focus();
            return false;
        } else if(!$('input[name="gender"]:checked').length){
            alert("성별이 선택되지 않았습니다.")
            $('#gender1').focus();
            return false;
        } else if($('input[name="hobby"]:checked').length < 2){
            alert("2개 이상의 취미를 선택해주세요.")
            in_hobby1.focus();
            return false;
        } else if($('#post1').val().length < 3 || $('#post2').val().length < 3){
            alert("우편번호가 입력되지 않았습니다.")
            $('#post1').focus();
            return false;
        } else if($('#address').val() == ""){
            alert("주소를 입력하지 않았습니다.")
            $('#address').focus();
            return false;
        }
    }

    function idCheck(){
        if($('#id').val() == ""){
            alert("ID를 입력해주세요");
            $('#id').focus();
        } else {
            window.open("idcheck.html", "_blank", "width=300, height=250");
        }
    }

    function move(){
        var jumin1 = $('#jumin1');
        if(jumin1.value.length == 6){
            if(!isNaN(Number(jumin1.val()))){
                $('#jumin2').focus();
            } else {
                alert("숫자가 아닌 값이 있습니다.")
                jumin1.val() = "";
                jumin1.focus();
            }
        }
    }
    function move2(){
        var jumin2 = $('#jumin2');
        console.log(jumin2);
        if(jumin2.val().length == 7){
            if(isNaN(Number(jumin2.val()))){
                alert("숫자가 아닌 값이 있습니다.")
                jumin2.val() = "";
                jumin2.focus();
            }
        }
    }

    function domain1(e){
        var domain = $('#domain');
        if (e.target.value == "") {
            domain.val("");
            domain.attr("readonly", false);
        } else{
            domain.val(e.target.value);
            domain.attr("readonly", true);
        }
    }

    function post() {
        window.open("post.html", "_blank", "width = 300px; height= 250px")
    }
</script>
<body>
    <fieldset>
        <legend>회원가입양식</legend>
        <form action="send.jsp" id="myForm" onsubmit="return check()">
            <table>
                <tr>
                    <td><div>ID</div></td><td><input type="text" name="id" id="id"><input type="button" value="ID중복검사" onclick="idCheck()"></td>
                </tr>
                <tr>
                    <td><div>비밀번호</div></td><td><input type="password" name="pass" id="pass"></td>
                </tr>
                <tr>
                    <td><div for="jumin1">주민등록번호</div></td>
                    <td>
                        <input type="text" name="jumin1" id="jumin1" maxlength="6" onkeyup="move()">
                        -
                        <input type="password" name="jumin2" id="jumin2" maxlength="7" onkeyup="move2()">
                    </td>
                </tr>
                <tr>
                    <td><div for="email">E-Mail</div></td>
                    <td>
                        <input type="text" name="email" id="email">
                        @
                        <input type="text" name="domain" id="domain">
                        <select name="sel" id="sel" onchange="domain1(event)">
                            <option value="">직접입력</option>
                            <option value="naver.com">naver.com</option>
                            <option value="daum.net">daum.net</option>
                            <option value="nate.com">nate.com</option>
                            <option value="gmail.com">gmail.com</option>
                        </select>
                    </td>
                </tr>
                <tr><td><div for="male">성별</div></td>
                    <td>
                        <input type="radio" name="gender" id="gender1" value="m">남성
                        <input type="radio" name="gender" id="gender2" value="f">여성
                    </td>
                </tr>
                <tr><td><div for="">취미</div></td>
                    <td>
                        <input type="checkbox" name="hobby" id="hobby1" value="공부">공부
                        <input type="checkbox" name="hobby" id="hobby2" value="게임">게임
                        <input type="checkbox" name="hobby" id="hobby3" value="운동">운동
                        <input type="checkbox" name="hobby" id="hobby4" value="등산">등산
                        <input type="checkbox" name="hobby" id="hobby5" value="낚시">낚시
                    </td>
                </tr>
                <tr><td><div for="">우편번호</div></td>
                    <td>
                        <input type="text" name="post1" id="post1" maxlength="3">
                        -
                        <input type="text" name="post2" id="post2" maxlength="3">
                        <input type="button" value="검색" onclick="post()">
                    </td>
                </tr>
                <tr><td><div for="">주소</div></td><td><input type="text" name="address" id="address"></td></tr>
                <tr><td colspan="2"><div>자기소개</div><textarea name="introduce" id="introduce"></textarea></td></tr>
                <tr><td colspan="2"><input type="submit" value="회원가입"><input type="reset" value="취소"></td></tr>
            </table>
        </form>
    </fieldset>
</body>
</html>